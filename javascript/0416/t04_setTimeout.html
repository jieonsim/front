<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t4_setTimeout</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>    
    <script>
        'use strict';

        let num = 0;
        let statusTime;
        // 여러 함수에서 사용할 수 있도록 전역 변수로 설정

        function start() {
            clearTimeout(statusTime);
            // 처음 시작 전 멈추기
            
            // 전체: 100 / 10씩 증가
            num += 10;

            if(num < 100) {
                statusTime = setTimeout(start, 500);
                demo.innerHTML = `<progress value=${num} max="100" style="width:50%"></progress>`;
                // progress bar로 표시
            }
            else {
                demo.innerHTML = `<progress value=${num} max="100" style="width:50%"></progress> : 작업종료`;
                return false;
            }
        }
    </script>
</head>
<body>
    <p><br/></p>
    <div class="container">
        <h2>진행 상황 체크()</h2>
        <p>
            <input type="button" value="출발" onclick="start()" class="btn btn-success mr-3"/>
            <input type="button" value="초기화" onclick="location.reload()" class="btn btn-danger"/>
        </p>
        <hr/>
        <div id="demo"></div>
    </div>
</body>
</html>